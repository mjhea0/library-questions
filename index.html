<html>
	<head>
		<title>Library Interview Questions</title>
		<script type="text/javascript" src="js/ICanHaz.js"></script> 
		<script src='http://api.tiles.mapbox.com/mapbox.js/v1.0.0/mapbox.js'></script>
		<script src='js/jquery.js '></script>
		<script type="text/javascript" src='js/d3.js'></script>
		<script type="text/javascript" src='js/sheetsee.js'></script>
		<link rel="shortcut icon" href="https://raw.github.com/jllord/sheetsee-cache/master/favicon-p.png"/>


    <link href='http://api.tiles.mapbox.com/mapbox.js/v1.0.0/mapbox.css' rel='stylesheet' />
		<link media="screen" rel="stylesheet" type="text/css" href="/css/style.css"> 
		<link media="screen" rel="stylesheet" type="text/css" href="/css/site.css"> 
	</head>
<body>
	<div id="wrapper">
		<h1>Library Interview Questions</h1>
		<div class="container">
			<input id="tableFilter" type="text" placeholder="filter by.."></input>
			<span class="clear button">Clear</span>
			<span class="noMatches">no matches</span>
		</div>
		<div id="siteTable" class="container"></div>
		<!-- <label><input type="checkbox"> Sort values</label>   -->

	</div><!-- end wrapper -->

	<script id="siteTable" type="text/html">
		<table>
		<tr><th class="tHeader">timestamp</th><th class="tHeader">whatkindofinterviewwasit</th><th class="tHeader">whatlevelinterviewwasit</th><th class="tHeader">whatquestionsdidtheyaskyou</th><th class="tHeader">whatquestionsdidyouasktheinterviewers</th><th class="tHeader">whatpositionlevelwasitfor</th><th class="tHeader">whattypeoforganization</th><th class="tHeader">jobfocuswascheckallthatapply</th><th class="tHeader">whereareyou</th><th class="theader">whereareyou_2</th><th class="tHeader">anyothercommentsformeorforyourfellowjobhunters</th></tr>
		  {{#rows}}
		  	<tr class="{{id}}"><td>{{timestamp}}</td><td>{{whatkindofinterviewwasit}}</td><td>{{whatlevelinterviewwasit}}</td><td>{{whatquestionsdidtheyaskyou}}</td><td>{{whatquestionsdidyouasktheinterviewers}}</td><td>{{whatpositionlevelwasitfor}}</td><td>{{whattypeoforganization}}</td><td>{{jobfocuswascheckallthatapply}}</td><td>{{whereareyou}}</td><td>{{whereareyou_2}}</td><td>{{anyothercommentsformeorforyourfellowjobhunters}}</td></tr>
		  {{/rows}}
	  </table>
	</script>


	<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() { // IE6 doesn't do DOMContentLoaded
    // reWriteTable(gData, null, tableClickListeners)
  	Sheetsee.makeTable(gData, "#siteTable")
  	Sheetsee.initiateTableFilter(gData, "#tableFilter", "#siteTable")
  	Sheetsee.makeTable(calCoins, "#caliCoins")
		Sheetsee.initiateTableFilter(calCoins, "#caliFilter", "#caliCoins")
  	// initiateTableFilter(data, filterDiv, tableDiv)

  	console.log('gData', gData[0])
  	// console.log('newData', newData[0])
   }) 
	</script>

	<script type='text/javascript'>	
    var optionsJSON = ["timestamp", "whatkindofinterviewwasit", "whatlevelinterviewwasit", "whatquestionsdidtheyaskyou", "whatquestionsdidyouasktheinterviewers", "whatpositionlevelwasitfor", "whattypeoforganization", "jobfocuswascheckallthatapply","whereareyou", "whereareyou_2", "anyothercommentsformeorforyourfellowjobhunters"]
    var geoJSON = Sheetsee.createGeoJSON(gData, optionsJSON)
		var map = Sheetsee.loadMap("map")
		Sheetsee.addTileLayer(map, 'examples.map-20v6611k')
		var markerLayer = Sheetsee.addMarkerLayer(geoJSON, map, 11)
		addPopups(map, markerLayer)

		function addPopups(map, markerLayer) {
		  markerLayer.on('click', function(e) {
		    var feature = e.layer.feature
		    var popupContent = '<h2>' + feature.opts.timestamp + '</h2>' +
		                        '<h3>' + feature.opts.whatkindofinterviewwasit + '</h3>'
		    e.layer.bindPopup(popupContent,{closeButton: false,})
		  })
		}
	</script>
</body>
</html>
